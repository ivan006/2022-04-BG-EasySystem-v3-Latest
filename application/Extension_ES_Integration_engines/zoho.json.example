{
  "delivery_sources":[
    {
      "id":"sendinblueivan",
      "map":{
        "event_type_trigger":"event",
        "event_types":[
          {
            "id":"spam",
            "fields":[
              {
                "in_":"id",
                "out":"id"
              },
              {
                "in_":"event",
                "out":"event"
              },
              {
                "in_":"email",
                "out":"email"
              },
              {
                "in_":"date",
                "out":"date"
              },
              {
                "in_":"ts",
                "out":"ts"
              }
            ]
          },
          {
            "id":"delivered",
            "fields":[
              {
                "in_":"id",
                "out":"id"
              },
              {
                "in_":"camp_id",
                "out":"camp_id"
              },
              {
                "in_":"campaign name",
                "out":"campaign name"
              },
              {
                "in_":"date_sent",
                "out":"date_sent"
              },
              {
                "in_":"date_event",
                "out":"date_event"
              },
              {
                "in_":"event",
                "out":"event"
              },
              {
                "in_":"tag",
                "out":"tag"
              },
              {
                "in_":"email",
                "out":"email"
              },
              {
                "in_":"ts_sent",
                "out":"ts_sent"
              },
              {
                "in_":"ts_event",
                "out":"ts_event"
              },
              {
                "in_":"sending_ip",
                "out":"sending_ip"
              },
              {
                "in_":"ts",
                "out":"ts"
              }
            ]
          },
          {
            "id":"opened",
            "fields":[
              {
                "in_":"id",
                "out":"id"
              },
              {
                "in_":"camp_id",
                "out":"camp_id"
              },
              {
                "in_":"campaign name",
                "out":"campaign name"
              },
              {
                "in_":"date_sent",
                "out":"date_sent"
              },
              {
                "in_":"date_event",
                "out":"date_event"
              },
              {
                "in_":"event",
                "out":"event"
              },
              {
                "in_":"tag",
                "out":"tag"
              },
              {
                "in_":"email",
                "out":"email"
              },
              {
                "in_":"ts_sent",
                "out":"ts_sent"
              },
              {
                "in_":"ts_event",
                "out":"ts_event"
              },
              {
                "in_":"ts",
                "out":"ts"
              }
            ]
          },
          {
            "id":"click",
            "fields":[
              {
                "in_":"id",
                "out":"id"
              },
              {
                "in_":"camp_id",
                "out":"camp_id"
              },
              {
                "in_":"campaign name",
                "out":"campaign name"
              },
              {
                "in_":"date_sent",
                "out":"date_sent"
              },
              {
                "in_":"date_event",
                "out":"date_event"
              },
              {
                "in_":"event",
                "out":"event"
              },
              {
                "in_":"tag",
                "out":"tag"
              },
              {
                "in_":"email",
                "out":"email"
              },
              {
                "in_":"URL",
                "out":"URL"
              },
              {
                "in_":"ts_sent",
                "out":"ts_sent"
              },
              {
                "in_":"ts_event",
                "out":"ts_event"
              },
              {
                "in_":"ts",
                "out":"ts"
              }
            ]
          },
          {
            "id":"unsubscribe",
            "fields":[
              {
                "in_":"id",
                "out":"id"
              },
              {
                "in_":"camp_id",
                "out":"camp_id"
              },
              {
                "in_":"campaign name",
                "out":"campaign name"
              },
              {
                "in_":"date_sent",
                "out":"date_sent"
              },
              {
                "in_":"date_event",
                "out":"date_event"
              },
              {
                "in_":"event",
                "out":"event"
              },
              {
                "in_":"tag",
                "out":"tag"
              },
              {
                "in_":"email",
                "out":"email"
              },
              {
                "in_":"ts_sent",
                "out":"ts_sent"
              },
              {
                "in_":"ts_event",
                "out":"ts_event"
              },
              {
                "in_":"ts",
                "out":"ts"
              },
              {
                "in_":"list_id",
                "out":"list_id"
              }
            ]
          },
          {
            "id":"hard_bounce",
            "fields":[
              {
                "in_":"id",
                "out":"id"
              },
              {
                "in_":"camp_id",
                "out":"camp_id"
              },
              {
                "in_":"campaign name",
                "out":"campaign name"
              },
              {
                "in_":"date_sent",
                "out":"date_sent"
              },
              {
                "in_":"date_event",
                "out":"date_event"
              },
              {
                "in_":"event",
                "out":"event"
              },
              {
                "in_":"tag",
                "out":"tag"
              },
              {
                "in_":"email",
                "out":"email"
              },
              {
                "in_":"ts_sent",
                "out":"ts_sent"
              },
              {
                "in_":"ts_event",
                "out":"ts_event"
              },
              {
                "in_":"ts",
                "out":"ts"
              },
              {
                "in_":"reason",
                "out":"reason"
              },
              {
                "in_":"sending_ip",
                "out":"sending_ip"
              }
            ]
          },
          {
            "id":"soft_bounce",
            "fields":[
              {
                "in_":"id",
                "out":"id"
              },
              {
                "in_":"camp_id",
                "out":"camp_id"
              },
              {
                "in_":"campaign name",
                "out":"campaign name"
              },
              {
                "in_":"date_sent",
                "out":"date_sent"
              },
              {
                "in_":"date_event",
                "out":"date_event"
              },
              {
                "in_":"event",
                "out":"event"
              },
              {
                "in_":"tag",
                "out":"tag"
              },
              {
                "in_":"email",
                "out":"email"
              },
              {
                "in_":"ts_sent",
                "out":"ts_sent"
              },
              {
                "in_":"ts_event",
                "out":"ts_event"
              },
              {
                "in_":"ts",
                "out":"ts"
              },
              {
                "in_":"reason",
                "out":"reason"
              },
              {
                "in_":"sending_ip",
                "out":"sending_ip"
              }
            ]
          }
        ]
      },
      "linked_delivery_destinations":[
        "es-staging2"
      ]
    }
  ],
  "delivery_destinations":[
    {
      "id":"es-staging2",
      "url":"https://zohoapis.com/crm/v2",
      "authorization":{
        "type":"oauth2",
        "clientId":"xxxxxxxxxxxxxx",
        "clientSecret":"xxxxxxxxxxxxxx",
        "redirectUri":"http://indigo.bluegemify.co.za/Extension_ES_Form_c/tokens?integration_engine=2&delivery_destination=es-staging2",
        "urlAuthorize":"https://accounts.zoho.com/oauth/v2/auth?scope=ZohoCRM.modules.ALL&access_type=offline",
        "urlAccessToken":"https://accounts.zoho.com/oauth/v2/token",
        "urlResourceOwnerDetails":""
      },
      "map":{
        "event_type_trigger":"event",
        "event_types":[
          {
            "id":"delivered",
            "request_type":"POST",
            "request_suffix":"/External_activities",
            "success_check_where_field":"data/0/code",
            "success_check_where_operator":"==",
            "success_check_where_value":"SUCCESS",
            "headers":{
              "X-EXTERNAL":"External_activities.ext_email_id.External_ID,External_activities.ext_camp_id.External_ID"
            },
            "fields":[
              {
                "in_":"campaign name",
                "out":"data/0/Name"
              },
              {
                "in_":"event",
                "out":"data/0/event"
              },
              {
                "in_":"id",
                "out":"data/0/ext_message_id"
              },
              {
                "in_":"camp_id",
                "out":"data/0/ext_camp_id/External_ID"
              },
              {
                "in_":"date_sent",
                "out":"data/0/date_sent",
                "out_func":"datetime(Y-m-d\\TH:i:s+02:00)"
              },
              {
                "in_":"date_event",
                "out":"data/0/date_event",
                "out_func":"datetime(Y-m-d\\TH:i:s+02:00)"
              },
              {
                "in_":"event",
                "out":"data/0/event"
              },
              {
                "in_":"tag",
                "out":"data/0/ext_tag"
              },
              {
                "in_":"email",
                "out":"data/0/ext_email_id/External_ID"
              },
              {
                "in_":"ts_sent",
                "out":"data/0/ts_sent"
              },
              {
                "in_":"ts_event",
                "out":"data/0/ts_event"
              },
              {
                "in_":"sending_ip",
                "out":"data/0/sending_ip"
              },
              {
                "in_":"ts",
                "out":"data/0/ts"
              }
            ]
          },
          {
            "id":"Campaign",
            "request_type":"POST",
            "request_suffix":"/Campaigns/upsert",
            "success_check_where_field":"data/0/code",
            "success_check_where_operator":"==",
            "success_check_where_value":"SUCCESS",
            "headers":[],
            "fields":[
              {
                "in_":"id",
                "out":"data/0/External_ID"
              },
              {
                "in_":"name",
                "out":"data/0/Campaign_Name"
              },
              {
                "in_":"status",
                "out":"data/0/Status"
              },
              {
                "in_":"type",
                "out":"data/0/Type"
              }
            ]
          },
          {
            "id":"opened",
            "request_type":"POST",
            "request_suffix":"/External_activities",
            "success_check_where_field":"data/0/code",
            "success_check_where_operator":"==",
            "success_check_where_value":"SUCCESS",
            "headers":{
              "X-EXTERNAL":"External_activities.ext_email_id.External_ID,External_activities.ext_camp_id.External_ID"
            },
            "fields":[
              {
                "in_":"campaign name",
                "out":"data/0/Name"
              },
              {
                "in_":"event",
                "out":"data/0/event"
              },
              {
                "in_":"id",
                "out":"data/0/ext_message_id"
              },
              {
                "in_":"camp_id",
                "out":"data/0/ext_camp_id/External_ID"
              },
              {
                "in_":"date_sent",
                "out":"data/0/date_sent",
                "out_func":"datetime(Y-m-d\\TH:i:s+02:00)"
              },
              {
                "in_":"date_event",
                "out":"data/0/date_event",
                "out_func":"datetime(Y-m-d\\TH:i:s+02:00)"
              },
              {
                "in_":"event",
                "out":"data/0/event"
              },
              {
                "in_":"tag",
                "out":"data/0/ext_tag"
              },
              {
                "in_":"email",
                "out":"data/0/ext_email_id/External_ID"
              },
              {
                "in_":"ts_sent",
                "out":"data/0/ts_sent"
              },
              {
                "in_":"ts_event",
                "out":"data/0/ts_event"
              },
              {
                "in_":"ts",
                "out":"data/0/ts"
              }
            ]
          },
          {
            "id":"click",
            "request_type":"POST",
            "request_suffix":"/External_activities",
            "success_check_where_field":"data/0/code",
            "success_check_where_operator":"==",
            "success_check_where_value":"SUCCESS",
            "headers":{
              "X-EXTERNAL":"External_activities.ext_email_id.External_ID,External_activities.ext_camp_id.External_ID"
            },
            "fields":[
              {
                "in_":"campaign name",
                "out":"data/0/Name"
              },
              {
                "in_":"event",
                "out":"data/0/event"
              },
              {
                "in_":"id",
                "out":"data/0/ext_message_id"
              },
              {
                "in_":"camp_id",
                "out":"data/0/ext_camp_id/External_ID"
              },
              {
                "in_":"date_sent",
                "out":"data/0/date_sent",
                "out_func":"datetime(Y-m-d\\TH:i:s+02:00)"
              },
              {
                "in_":"date_event",
                "out":"data/0/date_event",
                "out_func":"datetime(Y-m-d\\TH:i:s+02:00)"
              },
              {
                "in_":"event",
                "out":"data/0/event"
              },
              {
                "in_":"tag",
                "out":"data/0/ext_tag"
              },
              {
                "in_":"email",
                "out":"data/0/ext_email_id/External_ID"
              },
              {
                "in_":"URL",
                "out":"data/0/URL"
              },
              {
                "in_":"ts_sent",
                "out":"data/0/ts_sent"
              },
              {
                "in_":"ts_event",
                "out":"data/0/ts_event"
              },
              {
                "in_":"ts",
                "out":"data/0/ts"
              }
            ]
          },
          {
            "id":"unsubscribe",
            "request_type":"POST",
            "request_suffix":"/External_activities",
            "success_check_where_field":"data/0/code",
            "success_check_where_operator":"==",
            "success_check_where_value":"SUCCESS",
            "headers":{
              "X-EXTERNAL":"External_activities.ext_email_id.External_ID,External_activities.ext_camp_id.External_ID"
            },
            "fields":[
              {
                "in_":"campaign name",
                "out":"data/0/Name"
              },
              {
                "in_":"event",
                "out":"data/0/event"
              },
              {
                "in_":"id",
                "out":"data/0/ext_message_id"
              },
              {
                "in_":"camp_id",
                "out":"data/0/ext_camp_id/External_ID"
              },
              {
                "in_":"date_sent",
                "out":"data/0/date_sent",
                "out_func":"datetime(Y-m-d\\TH:i:s+02:00)"
              },
              {
                "in_":"date_event",
                "out":"data/0/date_event",
                "out_func":"datetime(Y-m-d\\TH:i:s+02:00)"
              },
              {
                "in_":"event",
                "out":"data/0/event"
              },
              {
                "in_":"tag",
                "out":"data/0/ext_tag"
              },
              {
                "in_":"email",
                "out":"data/0/ext_email_id/External_ID"
              },
              {
                "in_":"list_id",
                "out":"data/0/list_id"
              },
              {
                "in_":"ts_sent",
                "out":"data/0/ts_sent"
              },
              {
                "in_":"ts_event",
                "out":"data/0/ts_event"
              },
              {
                "in_":"ts",
                "out":"data/0/ts"
              }
            ]
          },
          {
            "id":"Contact",
            "request_type":"POST",
            "request_suffix":"/Contacts/upsert",
            "success_check_where_field":"data/0/code",
            "success_check_where_operator":"==",
            "success_check_where_value":"SUCCESS",
            "headers":[],
            "fields":[
              {
                "in_":"email",
                "in_required": "",
                "out":"data/0/Email"
              },
              {
                "in_":"email",
                "out":"data/0/External_ID"
              },
              {
                "in_":"emailBlacklisted",
                "out":"data/0/Email_Opt_Out"
              },
              {
                "in_":"smsBlacklisted",
                "out":"data/0/ext_smsBlacklisted"
              },
              {
                "in_":"createdAt",
                "out":"data/0/ext_createdAt"
              },
              {
                "in_":"modifiedAt",
                "out":"data/0/ext_modifiedAt"
              },
              {
                "in_":"attributes/MODIFIED_TIME",
                "out":"data/0/ext_attributes_MODIFIED_TIME"
              },
              {
                "in_":"attributes/MEMBERID",
                "out":"data/0/MEMBERID"
              },
              {
                "in_":"attributes/HOMEPROVINCE",
                "out":"data/0/HOMEPROVINCE"
              },
              {
                "in_":"attributes/FANTYPE",
                "out":"data/0/FANTYPE"
              },
              {
                "in_":"attributes/ADDED_TIME",
                "out":"data/0/ext_ADDED_TIME"
              },
              {
                "in_":"attributes/NAME",
                "out":"data/0/Fullname"
              },
              {
                "in_":"attributes/FIRSTNAME",
                "out":"data/0/ext_FIRSTNAME"
              },
              {
                "in_":"attributes/CREATED_DATE",
                "out":"data/0/Original_Created_Date"
              },
              {
                "in_":"attributes/SMS",
                "out":"data/0/SMS"
              },
              {
                "in_":"attributes/FIRSTNAME",
                "out":"data/0/First_Name"
              },
              {
                "in_":"attributes/FIRSTNAME",
                "out":"data/0/Last_Name"
              },
              {
                "in_":"listIds",
                "out":"data/0/ext_listIds"
              }
            ]
          },
          {
            "id":"hard_bounce",
            "request_type":"POST",
            "request_suffix":"/External_activities",
            "success_check_where_field":"data/0/code",
            "success_check_where_operator":"==",
            "success_check_where_value":"SUCCESS",
            "headers":{
              "X-EXTERNAL":"External_activities.ext_email_id.External_ID,External_activities.ext_camp_id.External_ID"
            },
            "fields":[
              {
                "in_":"campaign name",
                "out":"data/0/Name"
              },
              {
                "in_":"event",
                "out":"data/0/event"
              },
              {
                "in_":"id",
                "out":"data/0/ext_message_id"
              },
              {
                "in_":"camp_id",
                "out":"data/0/ext_camp_id/External_ID"
              },
              {
                "in_":"date_sent",
                "out":"data/0/date_sent",
                "out_func":"datetime(Y-m-d\\TH:i:s+02:00)"
              },
              {
                "in_":"date_event",
                "out":"data/0/date_event",
                "out_func":"datetime(Y-m-d\\TH:i:s+02:00)"
              },
              {
                "in_":"event",
                "out":"data/0/event"
              },
              {
                "in_":"tag",
                "out":"data/0/ext_tag"
              },
              {
                "in_":"email",
                "out":"data/0/ext_email_id/External_ID"
              },
              {
                "in_":"ts_sent",
                "out":"data/0/ts_sent"
              },
              {
                "in_":"ts_event",
                "out":"data/0/ts_event"
              },
              {
                "in_":"ts",
                "out":"data/0/ts"
              },
              {
                "in_":"reason",
                "out":"data/0/reason"
              },
              {
                "in_":"sending_ip",
                "out":"data/0/sending_ip"
              }
            ]
          },
          {
            "id":"soft_bounce",
            "request_type":"POST",
            "request_suffix":"/External_activities",
            "success_check_where_field":"data/0/code",
            "success_check_where_operator":"==",
            "success_check_where_value":"SUCCESS",
            "headers":{
              "X-EXTERNAL":"External_activities.ext_email_id.External_ID,External_activities.ext_camp_id.External_ID"
            },
            "fields":[
              {
                "in_":"campaign name",
                "out":"data/0/Name"
              },
              {
                "in_":"event",
                "out":"data/0/event"
              },
              {
                "in_":"id",
                "out":"data/0/ext_message_id"
              },
              {
                "in_":"camp_id",
                "out":"data/0/ext_camp_id/External_ID"
              },
              {
                "in_":"date_sent",
                "out":"data/0/date_sent",
                "out_func":"datetime(Y-m-d\\TH:i:s+02:00)"
              },
              {
                "in_":"date_event",
                "out":"data/0/date_event",
                "out_func":"datetime(Y-m-d\\TH:i:s+02:00)"
              },
              {
                "in_":"event",
                "out":"data/0/event"
              },
              {
                "in_":"tag",
                "out":"data/0/ext_tag"
              },
              {
                "in_":"email",
                "out":"data/0/ext_email_id/External_ID"
              },
              {
                "in_":"ts_sent",
                "out":"data/0/ts_sent"
              },
              {
                "in_":"ts_event",
                "out":"data/0/ts_event"
              },
              {
                "in_":"ts",
                "out":"data/0/ts"
              },
              {
                "in_":"reason",
                "out":"data/0/reason"
              },
              {
                "in_":"sending_ip",
                "out":"data/0/sending_ip"
              }
            ]
          }
        ]
      }
    }
  ],
  "retrieval_sources":[
    {
      "id":"Sendinblue Prod",
      "url":"https://api.sendinblue.com/v3",
      "headers":{
        "api-key": "xxxxxxxxxxxxxx"
      },
      "map":{
        "cases_trigger":"get_param",
        "cases":[
          {
            "id":"Campaign",
            "request_type":"POST",
            "request_suffix":"emailCampaigns",
            "success_check_where_field":"code",
            "success_check_where_operator":"!isset",
            "success_check_where_value":"",
            "headers":[],
            "fields":[
              {
                "in_":"get_param",
                "out":"event"
              },
              {
                "in_":"id",
                "out":"id"
              },
              {
                "in_":"name",
                "out":"name"
              },
              {
                "in_":"status",
                "out":"status"
              },
              {
                "in_":"type",
                "out":"type"
              }
            ]
          },
          {
            "id":"Contact",
            "request_type":"POST",
            "request_suffix":"contacts",
            "success_check_where_field":"code",
            "success_check_where_operator":"!isset",
            "success_check_where_value":"",
            "headers":[],
            "fields":[
              {
                "in_":"get_param",
                "out":"event"
              },
              {
                "in_":"email",
                "out":"email"
              },
              {
                "in_":"id",
                "out":"id"
              },
              {
                "in_":"emailBlacklisted",
                "out":"emailBlacklisted"
              },
              {
                "in_":"smsBlacklisted",
                "out":"smsBlacklisted"
              },
              {
                "in_":"createdAt",
                "out":"createdAt"
              },
              {
                "in_":"modifiedAt",
                "out":"modifiedAt"
              },
              {
                "in_":"attributes/FIRSTNAME",
                "out":"attributes/FIRSTNAME"
              },
              {
                "in_":"attributes/MODIFIED_TIME",
                "out":"attributes/MODIFIED_TIME"
              },
              {
                "in_":"attributes/MEMBERID",
                "out":"attributes/MEMBERID"
              },
              {
                "in_":"attributes/HOMEPROVINCE",
                "out":"attributes/HOMEPROVINCE"
              },
              {
                "in_":"attributes/FANTYPE",
                "out":"attributes/FANTYPE"
              },
              {
                "in_":"attributes/ADDED_TIME",
                "out":"attributes/ADDED_TIME"
              },
              {
                "in_":"attributes/NAME",
                "out":"attributes/NAME"
              },
              {
                "in_":"attributes/FIRSTNAME",
                "out":"attributes/FIRSTNAME"
              },
              {
                "in_":"attributes/CREATED_DATE",
                "out":"attributes/CREATED_DATE"
              },
              {
                "in_":"attributes/SMS",
                "out":"attributes/SMS"
              },
              {
                "in_":"listIds",
                "out":"listIds"
              }
            ]
          }
        ]
      },
      "linked_delivery_destinations":[
        "es-staging2"
      ]
    }
  ]
}
